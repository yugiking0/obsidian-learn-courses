# Tổng hợp tính năng javascript mới nhất kể từ ES6 đến ES11

---
- [ES6 (ECMAScript 2015)](https://anonystick.com/blog-developer/tong-hop-tinh-nang-javascript-moi-nhat-ke-tu-es6-den-es11-2019120577967801.jsx#t-2 "ES6 (ECMAScript 2015)")
	- [1. Arrow functions (=>)](https://anonystick.com/blog-developer/tong-hop-tinh-nang-javascript-moi-nhat-ke-tu-es6-den-es11-2019120577967801.jsx#t-3 "1. Arrow functions (=>)")
	- [2. Classes](https://anonystick.com/blog-developer/tong-hop-tinh-nang-javascript-moi-nhat-ke-tu-es6-den-es11-2019120577967801.jsx#t-4 "2. Classes")
	- [3. Let and Const](https://anonystick.com/blog-developer/tong-hop-tinh-nang-javascript-moi-nhat-ke-tu-es6-den-es11-2019120577967801.jsx#t-5 "3. Let and Const")
	- [4. Template strings](https://anonystick.com/blog-developer/tong-hop-tinh-nang-javascript-moi-nhat-ke-tu-es6-den-es11-2019120577967801.jsx#t-6 "4. Template strings")
	- [5. Promises](https://anonystick.com/blog-developer/tong-hop-tinh-nang-javascript-moi-nhat-ke-tu-es6-den-es11-2019120577967801.jsx#t-7 "5. Promises")
- [ES7 (ECMAScript 2016)](https://anonystick.com/blog-developer/tong-hop-tinh-nang-javascript-moi-nhat-ke-tu-es6-den-es11-2019120577967801.jsx#t-8 "ES7 (ECMAScript 2016)")
	- [1. Array.prototype.includes](https://anonystick.com/blog-developer/tong-hop-tinh-nang-javascript-moi-nhat-ke-tu-es6-den-es11-2019120577967801.jsx#t-9 "1. Array.prototype.includes")
	- [2. Exponentiation Operator](https://anonystick.com/blog-developer/tong-hop-tinh-nang-javascript-moi-nhat-ke-tu-es6-den-es11-2019120577967801.jsx#t-10 "2. Exponentiation Operator")
- [ES8 (ECMAScript 2017)](https://anonystick.com/blog-developer/tong-hop-tinh-nang-javascript-moi-nhat-ke-tu-es6-den-es11-2019120577967801.jsx#t-11 "ES8 (ECMAScript 2017)")
	- [1. Object.values() and Object.entries()](https://anonystick.com/blog-developer/tong-hop-tinh-nang-javascript-moi-nhat-ke-tu-es6-den-es11-2019120577967801.jsx#t-12 "1. Object.values() and Object.entries()")
	- [2. String.prototype.padEnd() and String.prototype.padStart()](https://anonystick.com/blog-developer/tong-hop-tinh-nang-javascript-moi-nhat-ke-tu-es6-den-es11-2019120577967801.jsx#t-13 "2. String.prototype.padEnd() and String.prototype.padStart()")
	- [3. Async function (async/await)](https://anonystick.com/blog-developer/tong-hop-tinh-nang-javascript-moi-nhat-ke-tu-es6-den-es11-2019120577967801.jsx#t-14 "3. Async function (async/await)")
- [ES9 (ECMAScript 2018)](https://anonystick.com/blog-developer/tong-hop-tinh-nang-javascript-moi-nhat-ke-tu-es6-den-es11-2019120577967801.jsx#t-15 "ES9 (ECMAScript 2018)")
	- [1. Asynchronous iteration](https://anonystick.com/blog-developer/tong-hop-tinh-nang-javascript-moi-nhat-ke-tu-es6-den-es11-2019120577967801.jsx#t-16 "1. Asynchronous iteration")
	- [2. Rest operator](https://anonystick.com/blog-developer/tong-hop-tinh-nang-javascript-moi-nhat-ke-tu-es6-den-es11-2019120577967801.jsx#t-17 "2. Rest operator")
	- [3. Promise.prototype.finally](https://anonystick.com/blog-developer/tong-hop-tinh-nang-javascript-moi-nhat-ke-tu-es6-den-es11-2019120577967801.jsx#t-18 "3. Promise.prototype.finally")
- [ES10 (ECMAScript 2019)](https://anonystick.com/blog-developer/tong-hop-tinh-nang-javascript-moi-nhat-ke-tu-es6-den-es11-2019120577967801.jsx#t-19 "ES10 (ECMAScript 2019)")
	- [1. Optional Catch Binding](https://anonystick.com/blog-developer/tong-hop-tinh-nang-javascript-moi-nhat-ke-tu-es6-den-es11-2019120577967801.jsx#t-20 "1. Optional Catch Binding")
	- [2. Object.fromEntries()](https://anonystick.com/blog-developer/tong-hop-tinh-nang-javascript-moi-nhat-ke-tu-es6-den-es11-2019120577967801.jsx#t-21 "2. Object.fromEntries()")
	- [3. Array.flat()](https://anonystick.com/blog-developer/tong-hop-tinh-nang-javascript-moi-nhat-ke-tu-es6-den-es11-2019120577967801.jsx#t-22 "3. Array.flat()")
	- [4. Array.flatMap()](https://anonystick.com/blog-developer/tong-hop-tinh-nang-javascript-moi-nhat-ke-tu-es6-den-es11-2019120577967801.jsx#t-23 "4. Array.flatMap()")
	- [5-6. String.trimStart() & String.trimEnd()](https://anonystick.com/blog-developer/tong-hop-tinh-nang-javascript-moi-nhat-ke-tu-es6-den-es11-2019120577967801.jsx#t-24 "5-6. String.trimStart() & String.trimEnd()")
	- [7. Dynamic Import](https://anonystick.com/blog-developer/tong-hop-tinh-nang-javascript-moi-nhat-ke-tu-es6-den-es11-2019120577967801.jsx#t-25 "7. Dynamic Import")
	- [8. globalThis Object](https://anonystick.com/blog-developer/tong-hop-tinh-nang-javascript-moi-nhat-ke-tu-es6-den-es11-2019120577967801.jsx#t-26 "8. globalThis Object")
- [ES11 (ECMAScript 2019) - Stage 3](https://anonystick.com/blog-developer/tong-hop-tinh-nang-javascript-moi-nhat-ke-tu-es6-den-es11-2019120577967801.jsx#t-27 "ES11 (ECMAScript 2019) - Stage 3")
	- [1 - Optional Chaining ?.](https://anonystick.com/blog-developer/tong-hop-tinh-nang-javascript-moi-nhat-ke-tu-es6-den-es11-2019120577967801.jsx#t-28 "1 - Optional Chaining ?.")
	- [2 - Private fields #](https://anonystick.com/blog-developer/tong-hop-tinh-nang-javascript-moi-nhat-ke-tu-es6-den-es11-2019120577967801.jsx#t-29 "2 - Private fields #")
	- [3 - undefined javascript - Nullish Coalescing ??](https://anonystick.com/blog-developer/tong-hop-tinh-nang-javascript-moi-nhat-ke-tu-es6-den-es11-2019120577967801.jsx#t-30 "3 - undefined javascript - Nullish Coalescing ??")
	- [4 - Top Level await](https://anonystick.com/blog-developer/tong-hop-tinh-nang-javascript-moi-nhat-ke-tu-es6-den-es11-2019120577967801.jsx#t-31 "4 - Top Level await")

----

## ES6 (ECMAScript 2015)
---

## 1. Arrow functions (=>)
```js
const test = {
  name: 'test object',
  createAnonFunction: function() {
    return function() {
      console.log(this.name);
      console.log(arguments);
    };
  },

  createArrowFunction: function() {
    return () => {
      console.log(this.name);
      console.log(arguments);
    };
  }
};

//Test>>

> const anon = test.createAnonFunction('hello', 'world')
> const arrow = test.createArrowFunction('hello', 'world')

//Show>>
> anon();
undefined {}

> arrow();

test object
{ '0': 'hello', '1': 'world' }
```

## 2. Classes
```js
'use strict' 
class Polygon { 
   constructor(height, width) { 
      this.h = height; 
      this.w = width;
   } 
   test() { 
      console.log("The height of the polygon: ", this.h) 
      console.log("The width of the polygon: ",this. w) 
   } 
} 

//creating an instance  
var polyObj = new Polygon(10,20); 
polyObj.test(); 
```


## 3. Let and Const
```js
// Let - variable is available only in the block of code
function calculate(x) {
     var y = 0;
     if (x > 10) { // let y is only available in this block of code
         let y = 30;
         return y;
     }
     return y;
}
```

## 4. Template strings
```js
const classes = `header ${ isLargeScreen() ? '' :
    (item.isCollapsed ? 'icon-expander' : 'icon-collapser') }`;
```


## 5. Promises
```js
function getMoneyBack(money) {
  return new Promise((resolve, reject) => {
    if (typeof money !== 'number') {
      reject(new Error('money is not a number'))
    } else {
      resolve(money)
    }
  })
}

getMoneyBack(1200).then((money) => {
  console.log(money)
})
```

---
## ES7 (ECMAScript 2016)

## 1. Array.prototype.includes
```js
//Before
const numbers = [4, 8, 15, 16, 23, 42];

if (numbers.indexOf(42) !== -1) {
  // ...
}

//After
const numbers = [4, 8, 15, 16, 23, 42];

if (numbers.includes(42)) {
  // ...
}
```

## 2. Exponentiation Operator
```js
// Old way
const old = Math.pow(3, 7);
// 2187

// ✅ ES7 way 
const es7 = 3 ** 7;
// 2187
```


## ES8 (ECMAScript 2017)

## 1. Object.values() and Object.entries()

```js
Object.entries()
Input : const obj = { 0: 'adam', 1: 'billy', 2: 'chris' };
        console.log(Object.entries(obj)[1]);

Output : Array ["1", "billy"]

Object.values()
Input : var check = ['x', 'y', 'z'];
        console.log(Object.values(check));
        
Output : Array ["x", "y", "z"]
```


## 2. String.prototype.padEnd() and String.prototype.padStart()

```js
String.prototype.padStart()

const str1 = '5';

console.log(str1.padStart(2, '0'));
// expected output: "05"

const fullNumber = '2034399002125581';
const last4Digits = fullNumber.slice(-4);
const maskedNumber = last4Digits.padStart(fullNumber.length, '*');

console.log(maskedNumber);
// expected output: "************5581"

String.prototype.padEnd()

const str1 = 'Breaded Mushrooms';

console.log(str1.padEnd(25, '.'));
// expected output: "Breaded Mushrooms........"

const str2 = '200';

console.log(str2.padEnd(5));
// expected output: "200  "
```


## 3. Async function (async/await)

```js
function resolveAfter2Seconds() {
  return new Promise(resolve => {
    setTimeout(() => {
      resolve('resolved');
    }, 2000);
  });
}

async function asyncCall() {
  console.log('calling');
  var result = await resolveAfter2Seconds();
  console.log(result);
  // expected output: 'resolved'
}

asyncCall();
```


## ES9 (ECMAScript 2018)

## 1. Asynchronous iteration
```js
for await (let book of books) {
     console.log(book)
};
```


## 2. Rest operator
```js
const fruits = { orange: 1, apple: 10, banana: 4, }
const { orange, ...rest } = fruits;
console.log(rest); // { apple: 10, banana: 4 };

// in the function
function getFruits(apple, ...rest) {
     return rest.banana;
}
```


## 3. Promise.prototype.finally
```js
let isLoading = true;

fetch(myRequest).then(function(response) {
    var contentType = response.headers.get("content-type");
    if(contentType && contentType.includes("application/json")) {
      return response.json();
    }
    throw new TypeError("Oops, we haven't got JSON!");
  })
  .then(function(json) { /* process your JSON further */ })
  .catch(function(error) { console.log(error); })
  .finally(function() { isLoading = false; });
```


## ES10 (ECMAScript 2019)

## 1. Optional Catch Binding
```js
// Before
try {
  doSomethingThatMightThrow();
} catch (exception) {
  //     ^^^^^^^^^
  // We must name the binding, even if we don’t use it!
  handleException();
}

// After - In ES2019, catch can now be used without a parameter
try {
  doSomethingThatMightThrow();
} catch { // → No binding!
  handleException();
}
```


## 2. Object.fromEntries()
```js
const entries = new Map([
  ['foo', 'bar'],
  ['baz', 42]
]);

const obj = Object.fromEntries(entries);

console.log(obj);
// expected output: Object { foo: "bar", baz: 42 }
```


## 3. Array.flat()

```js
var arr1 = [1, 2, [3, 4]];
arr1.flat(); 
// [1, 2, 3, 4]

var arr2 = [1, 2, [3, 4, [5, 6]]];
arr2.flat();
// [1, 2, 3, 4, [5, 6]]

var arr3 = [1, 2, [3, 4, [5, 6]]];
arr3.flat(2);
// [1, 2, 3, 4, 5, 6]

var arr4 = [1, 2, [3, 4, [5, 6, [7, 8, [9, 10]]]]];
arr4.flat(Infinity);
// [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]

```

## 4. Array.flatMap()

```js
let arr1 = ["it's Sunny in", "", "California"];

arr1.map(x => x.split(" "));
// [["it's","Sunny","in"],[""],["California"]]

arr1.flatMap(x => x.split(" "));
// ["it's","Sunny","in", "", "California"]
```


## 5-6. String.trimStart() & String.trimEnd()

```js
String.trimStart()

var greeting = '   Hello world!   ';

console.log(greeting);
// expected output: "   Hello world!   ";

console.log(greeting.trimStart());
// expected output: "Hello world!   ";

String.trimEnd()

var greeting = '   Hello world!   ';

console.log(greeting);
// expected output: "   Hello world!   ";

console.log(greeting.trimEnd());
// expected output: "   Hello world!";

```

## 7. Dynamic Import
```js
// Default export
export default () => {
  console.log('Hi from the default export!');
};

// Named export `doStuff`
export const doStuff = () => {
  console.log('Doing stuff…');
};

```

Tại đây, khai báo và sử dụng ./utils.js statically:

## 8. globalThis Object

```js
const global = Function('return this')();

const getGlobal = function () {
  if (typeof self !== 'undefined') { return self; }
  if (typeof window !== 'undefined') { return window; }
  if (typeof global !== 'undefined') { return global; }
  throw new Error('unable to locate global object');
}

const global = getGlobal(); // will return window object in the browser

// array usage example
const numbers = new global.Array(1, 2, 3);
console.log(numbers); // outputs [1, 2, 3];
```


## ES11 (ECMAScript 2019) - Stage 3

## 1 - Optional Chaining ?.
```js
const player = {
    details: {
        name: {
            firstName: "Quang",
            lastName: "Hai",
	   age: 20
        }
    },
    jobs: [
        "dev js",
        "dev php"
    ]
}

const playerFirstName = player?.details?.name?.firstName;
```


## 2 - Private fields #

```js
class Foo {
  b = 15;
  a = 10;
  get() {
    return this.#b;
  }

  increment() {
    ++this.#b;
  }
}
const obj = new Foo();

obj['#b']; // undefined
obj.a = 10;
obj.hasOwnProperty('#b'); // false
```

Proposal: [https://github.com/tc39/proposal-class-fields](https://github.com/tc39/proposal-class-fields)

## 3 - undefined javascript - Nullish Coalescing ??

const player = input.player || 'Ronaldo Cr7';

Nhưng nếu input.player sẽ là một trong những falsy values thì như thế nào, do đó sử dụng tính năng mới này Nullish Coalescing ??

const player = input.player ?? 'Ronaldo Cr7';

## 4 - Top Level await

Proposal: [https://github.com/tc39/proposal-top-level-await](https://github.com/tc39/proposal-top-level-await) Một bài viết khá dài cho anh em, để tổng kết những tính năng từ khi es6 ra đời... 

Chúc anh em một năm tốt đẹp ...  
Ref: [](https://dev.to/duomly/the-best-javascript-features-since-es6-pn9)[dev.to](https://dev.to/duomly/the-best-javascript-features-since-es6-pn9)